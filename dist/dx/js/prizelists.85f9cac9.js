(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["prizelists"],{"4d7e":function(t,i,n){"use strict";n.r(i);var s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"box"},[n("van-nav-bar",{staticClass:"fbpl",attrs:{title:"兑换奖品","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("ul",{staticClass:"list"},t._l(t.prize,(function(i){return n("li",{key:i.id},[n("div",{staticClass:"imgs"},[n("img",{attrs:{src:i.icon,alt:""}})]),n("div",{staticClass:"text"},[n("p",[t._v(" "+t._s(i.title)+" "),1==i.draw?n("span",[t._v("已被领取")]):n("span",[t._v("未领取")])]),n("div",{staticClass:"aaa"},[n("input",{attrs:{type:"button",value:"查看详情"},on:{click:function(n){return t.examines(i.id)}}}),n("input",{attrs:{type:"button",value:"兑换"},on:{click:function(n){return t.conversions(i.draw,i.id)}}})])])])})),0),t.states?n("div",{staticClass:"popup",on:{click:t.price}},[n("div",{staticClass:"popup-content"},[n("p",[t._v(" 您需要补差价"),n("span",[t._v(t._s(t.differences_money)+"元")])]),n("p",[t._v("点击此处跳转支付宝补差价")])])]):t._e()],1)},e=[],a=(n("caad"),n("ac1f"),n("2532"),n("1276"),n("4328")),o=n.n(a),r=n("a813"),l=n("be3b"),c={data:function(){return{states:!1,turntable_id:null,draw_id:null,prize:[],differences_money:null,direct_url:null}},created:function(){var t=this,i=window.location.href;if(i.includes("?")){var n=i.split("?")[1];n.split("=")[1];if(i.includes("&")){var s=n.split("&");this.draw_id=parseInt(s[0].split("=")[1]),this.turntable_id=parseInt(s[1].split("=")[1])}console.log(this.draw_id,this.turntable_id),l["a"].post("".concat(r["b"],"/turntable"),o.a.stringify({turntable_id:this.turntable_id})).then((function(i){var n=i.data.info.prize;t.prize=n,console.log(n,t.prize,"接口返回并且赋值")}))}else this.$toast("访问不合法！")},methods:{onClickLeft:function(){this.$router.go(-1)},examines:function(t){console.log(t),this.$router.push({name:"turnprize",params:{id:t}})},price:function(){console.log(this.direct_url),window.open(this.direct_url,"_blank")},conversions:function(t,i){var n=this;console.log(t,i),2===t?l["a"].post("".concat(r["b"],"/turntable/bonusProcessing"),o.a.stringify({type:2,draw_id:this.draw_id,prize_id:i})).then((function(t){console.log(t,"兑换接口返回的参数");var i=t.data;i.status,n.$toast("".concat(i.message)),i.info!=[]&&1==i.info.has_pay&&(console.log("需要发起第三方支付补差价金额"),n.states=!0,n.differences_money=i.info.differences_money,n.direct_url=i.info.direct_url)})):this.$toast("奖品已被兑换")}}},u=c,d=(n("8394"),n("2877")),p=Object(d["a"])(u,s,e,!1,null,null,null);i["default"]=p.exports},8394:function(t,i,n){"use strict";var s=n("b48b"),e=n.n(s);e.a},b48b:function(t,i,n){}}]);