(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["helpApply"],{2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var i=a("6b75");function n(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var o=a("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||s(e)||Object(o["a"])(e)||r()}},"4de4":function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").filter,s=a("1dde"),o=a("ae40"),r=s("filter"),c=o("filter");i({target:"Array",proto:!0,forced:!r||!c},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"51ec":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"helpapply-wrapper"},[a("van-nav-bar",{staticClass:"navbar",attrs:{border:!1,title:"互帮申请","left-arrow":""},on:{"click-left":e.onClickLeft}}),e.csid?a("div",{staticClass:"re-hed"},[a("div",{staticClass:"re-hed-2"},[a("van-dropdown-menu",{attrs:{"active-color":"#ee0a24"}},[a("van-dropdown-item",{attrs:{options:e.option1},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1)],1)]):e._e(),a("van-cell-group",{attrs:{border:!1}},[a("p",{staticClass:"ce_tit"},[e._v("请选择常住地址：")]),a("div",{staticClass:"helpapply-ya"},[a("div",{staticClass:"he-ya-1"},[a("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:e.province_name,placeholder:"选择省份"},on:{click:function(t){return e.getCity(1)}}}),a("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:e.city_name,placeholder:"选择市"},on:{click:function(t){return e.getCity(2)}}}),a("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:e.county_name,placeholder:"选择县"},on:{click:function(t){return e.getCity(3)}}})],1),a("div",{staticClass:"he-ya-2"},[a("van-field",{staticClass:"he-ya-mp mb10 br5",attrs:{placeholder:"请输入具体门牌号"},model:{value:e.permanent_address,callback:function(t){e.permanent_address=t},expression:"permanent_address"}})],1)]),e.showadmin?a("div",[a("p",{staticClass:"ce_tit"},[e._v(" 管理员信息： "),a("small",[e._v("无需填写")])]),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"推荐人姓名",value:e.recommender_name,placeholder:"推荐人姓名",readonly:""}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"联系电话",value:e.recommender_mobile,placeholder:"联系电话",readonly:""}}),e._l(e.supervisor,(function(e,t){return a("div",{key:t},[a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:(0===t?"①":1===t?"②":"")+"号监督管理员",value:e.name,readonly:"",placeholder:(0===t?"①":1===t?"②":"")+"号监督管理员"}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:(0===t?"①":1===t?"②":"")+"号联系电话",readonly:"",value:e.mobile,placeholder:"请输联系电话"}})],1)})),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"公司督察员姓名",placeholder:"公司督察员姓名",value:e.inspector,readonly:""}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"联系电话",placeholder:"联系电话",value:e.inspector_mobile,readonly:""}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"公司专线",placeholder:"公司专线",value:e.vip_mobile,readonly:""}}),a("p",{staticClass:"ce_tit_1"},[e._v(" 说明：凡是公司管理员，电话必须是注册时所用电话，在现场监督审核时，必须随身携带专用电话，以便督察员核实情况 ")])],2):e._e(),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"姓名",placeholder:"请输入姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("div",{staticClass:"mb10 br5 payment-form-upload"},[a("div",{staticClass:"payment-form-upload-left"},[a("span",[e._v("病情现状")]),a("span",{staticClass:"sf"},[e._v("(上传诊断及医生建议)")])]),a("div",{staticClass:"payment-form-upload-right"},[a("van-uploader",{attrs:{"preview-full-image":!1,"after-read":e.afterRead1,multiple:"","max-count":6},on:{delete:e.deleteCl},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},[a("div",{staticClass:"paymentFormItem_1"},[a("div",{staticClass:"paymentFormItem_1_img"},[e.card_img_front1?a("img",{staticStyle:{width:"100%",height:"3rem"},attrs:{src:e.card_img_front1,alt:""}}):a("van-icon",{attrs:{name:"add"}})],1)])])],1)]),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"主要症状",placeholder:"请描述主要症状"},model:{value:e.diseasename,callback:function(t){e.diseasename=t},expression:"diseasename"}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"病情描述",rows:"2",autosize:"",maxlength:"50","show-word-limit":"",type:"textarea",placeholder:"请输入病情描述"},model:{value:e.diseasedesc,callback:function(t){e.diseasedesc=t},expression:"diseasedesc"}}),a("p",{staticClass:"ce_tit"},[e._v("指定收款人:")]),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"姓名",placeholder:"请输入姓名"},model:{value:e.appoint_name,callback:function(t){e.appoint_name=t},expression:"appoint_name"}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"银行名称",placeholder:"请输入银行名称"},model:{value:e.appoint_h_name,callback:function(t){e.appoint_h_name=t},expression:"appoint_h_name"}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"开户行地址",placeholder:"请输入开户行地址"},model:{value:e.appoint_h_adress,callback:function(t){e.appoint_h_adress=t},expression:"appoint_h_adress"}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,value:e.appoint_account,label:"银行帐号",readonly:"",clickable:"",placeholder:"请输入银行帐号"},nativeOn:{touchstart:function(t){t.stopPropagation(),e.appointkshow=!0}}}),a("van-field",{staticClass:"mb10 br5",attrs:{border:!1,label:"联系电话",placeholder:"请输入联系电话"},model:{value:e.appoint_phone,callback:function(t){e.appoint_phone=t},expression:"appoint_phone"}}),a("div",{staticClass:"helpdbtn",on:{click:e.applyCl}},[e._v("正式申请")])],1),a("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showPickercity,callback:function(t){e.showPickercity=t},expression:"showPickercity"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{cancel:function(t){e.showPickercity=!1},confirm:e.onConfirm}})],1),a("van-number-keyboard",{attrs:{show:e.appointkjshow,maxlength:30},on:{blur:function(t){e.appointkjshow=!1}},model:{value:e.appointj_account,callback:function(t){e.appointj_account=t},expression:"appointj_account"}}),a("van-number-keyboard",{attrs:{show:e.appointkshow,maxlength:30},on:{blur:function(t){e.appointkshow=!1}},model:{value:e.appoint_account,callback:function(t){e.appoint_account=t},expression:"appoint_account"}}),a("popup")],1)},n=[],s=(a("99af"),a("4de4"),a("d81d"),a("b0c0"),a("ac1f"),a("1276"),a("2909")),o=a("ade3"),r=a("2dbd"),c=a("7766"),l=a("4328"),p=a.n(l),d={data:function(){var e;return e={csid:!0,option1:[{text:"请选择互助类型",value:0}],pageshow:!1,showadmin:!1,appointkshow:!1,appointkjshow:!1,appointtype:0,keyboardvalue:"",type:0,pid:0,id:0,columns:[],showPickercity:!1,province_name:"",province_id:"",city_name:"",city_id:"",county_name:"",county_id:"",permanent_address:"",inspector:"",inspector_mobile:"",vip_mobile:"",recommender_name:"",recommender_mobile:"",supervisor:[],user_city_name:"",user_city_id_phone:"",user_city_name_2:"",user_city_id_phone_2:""},Object(o["a"])(e,"inspector",""),Object(o["a"])(e,"inspector_mobile",""),Object(o["a"])(e,"vip_mobile",""),Object(o["a"])(e,"money",""),Object(o["a"])(e,"diseasename",""),Object(o["a"])(e,"name",""),Object(o["a"])(e,"diseasedesc",""),Object(o["a"])(e,"appoint_name",""),Object(o["a"])(e,"appoint_h_name",""),Object(o["a"])(e,"appoint_h_adress",""),Object(o["a"])(e,"appoint_account",""),Object(o["a"])(e,"appoint_phone",""),Object(o["a"])(e,"appointj_name",""),Object(o["a"])(e,"appointj_h_name",""),Object(o["a"])(e,"appointj_adress",""),Object(o["a"])(e,"appointj_account",""),Object(o["a"])(e,"appointj_phone",""),Object(o["a"])(e,"card_img_front1",""),Object(o["a"])(e,"uploadMask1",!1),Object(o["a"])(e,"fileList",[]),Object(o["a"])(e,"filelista",[]),Object(o["a"])(e,"apiUrl",this.$store.state.apiDomain),Object(o["a"])(e,"staticUrl",this.$store.state.staticDomain),Object(o["a"])(e,"num",0),e},components:{popup:c["a"]},created:function(){var e=this,t=window.location.href,a=t.split("?")[1];a&&(a=parseInt(a),this.num=a,this.csid=1!=a),r["a"].get("".concat(this.apiUrl,"/ehelp")).then((function(t){var a=t.data,i=a.info;i.map((function(t,a){var i=Object.create(null);i.text=t.title,i.value=t.id,e.option1.push(i)}))}))},mounted:function(){this.reqTitle=decodeURIComponent(this.$route.query.text)},watch:{type:{handler:function(e){this.type=e},deep:!0}},methods:{appointCl:function(){this.keyboardshow=!0,this.appointtype=1},appointjCl:function(){this.keyboardshow=!0,this.appointtype=2},onConfirm:function(e){var t=this;1===t.pid?(t.id=e.id,t.province_id=e.id,t.province_name=e.text,t.city_name="",t.city_id=0,t.county_id=0,t.county_name="",t.columns=[]):2===t.pid?(t.id=e.id,t.city_id=e.id,t.city_name=e.text,t.county_id=0,t.county_name="",t.columns=[]):3===t.pid&&(t.id=e.id,t.county_id=e.id,t.county_name=e.text,t.columns=[],t.getRecommender()),t.showPickercity=!1},getRecommender:function(){var e=this,t=e.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});r["a"].get("".concat(e.apiUrl,"/getRecommender"),{params:{cityid:parseInt(e.county_id)}}).then((function(a){t.clear();var i=a.data;1===i.status?(e.inspector=i.info.inspector,e.inspector_mobile=i.info.inspector_mobile,e.vip_mobile=i.info.vip_mobile,e.recommender_name=i.info.recommender_name,e.recommender_mobile=i.info.recommender_mobile,e.supervisor=i.info.supervisor,Array.isArray(i.info.supervisor)&&i.info.supervisor.map((function(t,a){0===a?(e.user_city_name=t.name,e.user_city_id_phone=t.mobile):1===a&&(e.user_city_name_2=t.name,e.user_city_id_phone_2=t.mobile)})),e.showadmin||(e.showadmin=!0)):e.$toast(i.message)})).catch((function(e){t.clear()}))},mapArr:function(e,t,a,i,n){var o=this;try{if(Array.isArray(e.info))if(e.info.length>0){var r=Object(s["a"])(e.info);r.map((function(e){e.text=e.name})),o[i]=!0,o[t]=r,o[a]=!0}else o[i]=!1,1===n?o.$toast("省不存在"):2===n?o.$toast("市不存在,请联系管理员"):3===n&&o.$toast("县不存在,请联系管理员")}catch(c){}},getCity:function(e){var t=this;if(t.pid=e,1===e&&(t.id=0),2===e){if(!t.province_id)return;t.id=t.province_id}if(3===e){if(!t.city_id)return;t.id=t.city_id}var a=t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});r["a"].get("".concat(t.apiUrl,"/getCity"),{params:{id:t.id}}).then((function(i){a.clear(),t.pageshow=!0;var n=i.data;if(1===n.status){if(Array.isArray(n.info))if(n.info.length>0){var o=Object(s["a"])(n.info);o.map((function(e){e.text=e.name})),t.showPickercity=!0,t.columns=o}else 1===e?t.$toast("省不存在"):2===e?t.$toast("市不存在, 请联系管理员"):3===e&&t.$toast("县不存在, 请联系管理员")}else t.$toast(n.message)})).catch((function(e){a.clear()}))},deleteCl:function(e,t){var a=this;a.filelista=a.filelista.filter((function(e,a){return e.index!=t.index})),a.filelista.map((function(e,t){e.index=t}))},afterRead1:function(e,t){Array.isArray(e)?this.typeArrayStatus(e,t):this.typeObjectStatus(e,t)},typeArrayStatus:function(e,t){var a=this;e.map((function(e,i){e.index=i+t.index,e.status="uploading",e.message="上传中...",a.uploadFile(e)}))},typeObjectStatus:function(e,t){e.index=t.index,e.status="uploading",e.message="上传中...",this.uploadFile(e)},uploadFileApi:function(e){var t=this,a=this,i=new FormData;i.append("img",e.file),r["a"].post("".concat(this.apiUrl,"/uploadImage?id=").concat(e.index),i).then((function(i){var n=i.data;if(t.uploadMask=!1,1===n.status){var s=Object.create(null);s.index=e.index,s.url=n.info.filename,a.filelista.push(s),e.status="done",e.message="上传完成"}else e.status="failed",e.message="".concat(n.message)})).catch((function(t){e.status="failed",e.message="上传失败"}))},uploadFile:function(e,t,a){var i=this;i.uploadFileApi(e)},applyCl:function(){var e=this;if(1!=e.num&&e.type<=0)e.$toast("请选择互助类型");else if(e.county_name)if(e.name)if(e.diseasename)if(e.diseasedesc)if(e.appoint_name)if(e.appoint_h_name)if(e.appoint_account)if(e.appoint_phone){e.filelista1=[],e.filelista.map((function(t){e.filelista1.push(t.url)}));var t=e.$toast.loading({message:"提交中...",forbidClick:!0,duration:0}),a=Object.create(null);a={name:String(e.name),user_id:String(sessionStorage.getItem("id")||""),diseasename:String(e.diseasename),diseasedesc:String(e.diseasedesc),permanent_address:String("".concat(e.province_name).concat(e.city_name).concat(e.county_name).concat(e.permanent_address)),diseaseimg:e.filelista1,appoint_name:String(e.appoint_name),appoint_h_name:String(e.appoint_h_name),appoint_h_adress:String(e.appoint_h_adress),appoint_account:String(e.appoint_account),appoint_phone:String(e.appoint_phone),user_city_name:String(e.user_city_name),user_city_id_phone:String(e.user_city_id_phone),user_city_name_2:String(e.user_city_name_2),user_city_id_phone_2:String(e.user_city_id_phone_2)},1!=this.num&&(a["type"]=String(e.type)),r["a"].post("".concat(this.apiUrl,"/report"),p.a.stringify(a)).then((function(a){t.clear(),e.pageshow=!0;var i=a.data;1===i.status?e.$dialog.alert({message:"提交成功"}).then((function(){e.$router.push("/helpCenter")})):e.$dialog.alert({message:"提交失败-".concat(i.message)}).then((function(){}))})).catch((function(e){t.clear()}))}else e.$toast("请输入收款人联系电话");else e.$toast("请输入收款人银行卡号");else e.$toast("请输入收款人银行名称");else e.$toast("请输入收款人姓名");else e.$toast("请输入病情描述");else e.$toast("请描述主要症状");else e.$toast("请输入姓名");else e.$toast("请选择县")},onClickLeft:function(){this.$router.go(-1)}}},u=d,m=(a("c36e"),a("2877")),f=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=f.exports},7766:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.msgs?a("div",{staticClass:"popUpBox"},[a("div",{staticClass:"popUp-content"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.msg,expression:"msg"}],staticClass:"iconfont icon-tongzhi"}),a("div",{staticClass:"text",domProps:{innerHTML:e._s(e.msg)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.msg,expression:"msg"}],on:{click:function(t){e.msgs=!e.msgs}}},[e._v("×")])])]):e._e()},n=[],s={data:function(){return{msgs:!1,msg:""}},created:function(){},mounted:function(){var e=this;sessionStorage.getItem("msg")?(this.msgs=!0,setTimeout((function(){e.msg=sessionStorage.getItem("msg")}),1e3)):this.msgs=!1},methods:{}},o=s,r=(a("7899"),a("2877")),c=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=c.exports},7899:function(e,t,a){"use strict";var i=a("c1d8"),n=a.n(i);n.a},ade3:function(e,t,a){"use strict";function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return i}))},c1d8:function(e,t,a){},c36e:function(e,t,a){"use strict";var i=a("e7f8"),n=a.n(i);n.a},e7f8:function(e,t,a){}}]);