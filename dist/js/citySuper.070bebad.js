(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["citySuper"],{"01f7":function(t,e,i){},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("6b75");function a(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=i("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||o(t)||Object(s["a"])(t)||r()}},"4ecf":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"citysuper-wrapper"},[i("van-nav-bar",{staticClass:"navbar",attrs:{border:!1,title:"城市监督员","left-arrow":""},on:{"click-left":t.onClickLeft}}),t.pageshow?i("div",[t.newmsg?i("div",{staticClass:"citysuper-add"},[i("p",[t._v("添加城市管理员")]),i("div",{staticClass:"citysuper-list"},[i("van-cell-group",{attrs:{border:!1}},[i("div",{staticClass:"he-ya-1"},[i("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:t.province_name,placeholder:"选择省份"},on:{click:function(e){return t.getCity(1)}}}),i("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:t.city_name,placeholder:"选择市"},on:{click:function(e){return t.getCity(2)}}}),i("van-field",{staticClass:"he-ya-cl mb10 br5",attrs:{border:!1,readonly:"",clickable:"",value:t.county_name,placeholder:"选择县"},on:{click:function(e){return t.getCity(3)}}})],1)]),i("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1)],1),i("div",{staticClass:"citysuper-btn",on:{click:t.btnCl}},[t._v(" 确认 ")])]):i("div",{staticClass:"citysuper-status"},[i("p",[t._v(t._s(t.msg))])])]):t._e(),i("popup")],1)},a=[],o=(i("d81d"),i("b0c0"),i("2909")),s=i("fd2d"),r=i("7766"),c=i("2dbd"),l=i("4328"),u=i.n(l),d={data:function(){return{pageshow:!1,pid:0,id:0,newmsg:!1,showPicker:!1,columns:[],province_name:"",province_id:0,city_id:0,county_id:0,city_name:"",county_name:"",msg:"",apiUrl:this.$store.state.apiDomain,staticUrl:this.$store.state.staticDomain}},components:{Footer:s["a"],popup:r["a"]},mounted:function(){this.firstAPi()},methods:{btnCl:function(){var t=this;if(t.city_id){var e=t.$toast.loading({message:"提交中...",forbidClick:!0,duration:0});c["a"].post("".concat(t.apiUrl,"/applyCitySupervisor"),u.a.stringify({cityid:t.id})).then((function(i){e.clear(),t.pageshow=!0;var n=i.data;1===n.status?t.$dialog.alert({message:"提交成功"}).then((function(){t.$router.push("/helpCenter")})):t.$toast(n.message)})).catch((function(t){e.clear()}))}else t.$toast("城市不能为空")},onConfirm:function(t){var e=this;1===e.pid?(e.id=t.id,e.province_id=t.id,e.province_name=t.text,e.city_name="",e.city_id=0,e.county_id=0,e.county_name="",e.columns=[]):2===e.pid?(e.id=t.id,e.city_id=t.id,e.city_name=t.text,e.county_id=0,e.county_name="",e.columns=[]):3===e.pid&&(e.id=t.id,e.county_id=t.id,e.county_name=t.text,e.columns=[]),e.showPicker=!1},mapArr:function(t,e,i,n,a){var s=this;try{if(Array.isArray(t.info))if(t.info.length>0){var r=Object(o["a"])(t.info);r.map((function(t){t.text=t.name})),s[n]=!0,s[e]=r,s[i]=!0}else s[n]=!1,1===a?s.$toast("省不存在"):2===a?s.$toast("市不存在,请联系管理员"):3===a&&s.$toast("县不存在,请联系管理员")}catch(c){}},getCity:function(t){var e=this;if(e.pid=t,1===t)e.id=0;else if(2===t){if(!e.province_id)return;e.id=e.province_id}else if(3===t){if(!e.city_id)return;e.id=e.city_id}var i=e.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});c["a"].get("".concat(e.apiUrl,"/getCity"),{params:{id:e.id}}).then((function(n){i.clear(),e.pageshow=!0;var a=n.data;if(1===a.status){if(Array.isArray(a.info))if(a.info.length>0){var s=Object(o["a"])(a.info);s.map((function(t){t.text=t.name})),e.showPicker=!0,e.columns=s}else 1===t?e.$toast("省不存在"):2===t?e.$toast("市不存在"):3===t&&e.$toast("县不存在")}else e.$toast(a.message)})).catch((function(t){i.clear()}))},firstAPi:function(){var t=this,e=t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0});c["a"].get("".concat(t.apiUrl,"/getApplyCitySupervisor")).then((function(i){e.clear();var n=i.data;if(1===n.status){var a=n.info;1===a.status?t.msg="您申请的城市监督员 【".concat(a.city_name,"】-【审核中】"):2===a.status?t.msg="您申请的城市监督员 【".concat(a.city_name,"】-【审核通过】"):3===a.status?t.msg="您申请的城市监督员 【".concat(a.city_name,"】-【审核失败】"):t.newmsg=!0}else t.$toast(n.message);t.pageshow=!0})).catch((function(){t.pageshow=!0,e.clear()}))},onClickLeft:function(){this.$router.go(-1)}}},f=d,m=(i("7285"),i("2877")),p=Object(m["a"])(f,n,a,!1,null,null,null);e["default"]=p.exports},"53d7":function(t,e,i){"use strict";var n=i("01f7"),a=i.n(n);a.a},7285:function(t,e,i){"use strict";var n=i("b3ce"),a=i.n(n);a.a},7766:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.msgs?i("div",{staticClass:"popUpBox"},[i("div",{staticClass:"popUp-content"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticClass:"iconfont icon-tongzhi"}),i("div",{staticClass:"text",domProps:{innerHTML:t._s(t.msg)}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],on:{click:function(e){t.msgs=!t.msgs}}},[t._v("×")])])]):t._e()},a=[],o={data:function(){return{msgs:!1,msg:""}},created:function(){},mounted:function(){var t=this;sessionStorage.getItem("msg")?(this.msgs=!0,setTimeout((function(){t.msg=sessionStorage.getItem("msg")}),1e3)):this.msgs=!1},methods:{}},s=o,r=(i("7899"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},7899:function(t,e,i){"use strict";var n=i("c1d8"),a=i.n(n);a.a},a434:function(t,e,i){"use strict";var n=i("23e7"),a=i("23cb"),o=i("a691"),s=i("50c4"),r=i("7b0b"),c=i("65f0"),l=i("8418"),u=i("1dde"),d=i("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var i,n,u,d,f,m,b=r(this),y=s(b.length),_=a(t,y),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=y-_):(i=w-2,n=v(p(o(e),0),y-_)),y+i-n>h)throw TypeError(g);for(u=c(b,n),d=0;d<n;d++)f=_+d,f in b&&l(u,d,b[f]);if(u.length=n,i<n){for(d=_;d<y-n;d++)f=d+n,m=d+i,f in b?b[m]=b[f]:delete b[m];for(d=y;d>y-n+i;d--)delete b[d-1]}else if(i>n)for(d=y-n;d>_;d--)f=d+n-1,m=d+i-1,f in b?b[m]=b[f]:delete b[m];for(d=0;d<i;d++)b[d+_]=arguments[d+2];return b.length=y-n+i,u}})},b3ce:function(t,e,i){},c1d8:function(t,e,i){},fd2d:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-tabbar",{staticClass:"common-footer-module",attrs:{route:"",fixed:!1,"active-color":"#fbbb5f","inactive-color":"#cecfd8"}},t._l(t.gridItems,(function(e,n){return i("van-tabbar-item",{key:n,class:{itemon:e.id===t.isActive},attrs:{icon:e.icon,replace:""},on:{click:function(i){return t.tabnarfn(e)}}},[t._v(t._s(e.text))])})),1)],1)},a=[],o=(i("a434"),{data:function(){return{gridItems:[{id:1,icon:"wap-home",text:"首页",url:"/home"},{id:2,icon:"bookmark",text:"财富",url:"/plan"},{id:5,icon:"shopping-cart",text:"电销",url:"/dx/"},{id:3,icon:"smile-comment",text:"互帮",url:"/help"},{id:4,icon:"manager",text:"我的",url:"/me"}]}},created:function(){var t=parseInt(sessionStorage.getItem("open_academy")),e={id:6,icon:"bookmark",text:"商学院",url:"/teaching/0"};t&&this.gridItems.splice(4,0,e)},props:["isActive"],methods:{tabnarfn:function(t){5===t.id?window.location.href="/dx/":this.$router.push(t.url)}}}),s=o,r=(i("53d7"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports}}]);