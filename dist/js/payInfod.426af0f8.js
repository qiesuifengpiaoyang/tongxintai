(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payInfod"],{"1fe6":function(t,a,i){},"8ea3":function(t,a,i){"use strict";var s=i("1fe6"),o=i.n(s);o.a},f337:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"payinfod-wrapper"},[i("van-nav-bar",{staticClass:"navbar",attrs:{border:!1,title:"付款信息","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"payinfod-con"},[i("p",{staticClass:"payinfod-sp"},[t._v("借款人信息")]),i("div",{staticClass:"payinfod-sp1"},[i("p",[t._v("姓名："+t._s(t.true_name))]),i("p",[t._v("身份证："+t._s(t.card_id))])]),i("div",{staticClass:"payinfod-sp2"},[i("img",{attrs:{src:t.payment_img,alt:""}}),i("p",[t._v("付款二维码")]),i("p",[t._v("微信账号 "),i("span",[t._v(t._s(t.account))])]),i("p",[t._v("付款金额"),i("span",[t._v(t._s(t.payment_money))]),t._v("元")])]),i("p",{staticClass:"payinfod-sp3"},[t._v("请使用微信App,扫描以上二维码付款"+t._s(t.payment_money||0)+"元，付款时在微信或支付宝订单备注您平台认证的姓名")]),i("div",{staticClass:"mb10 br5 payment-form-upload"},[i("van-uploader",{attrs:{"preview-full-image":!1,"after-read":t.afterRead}},[i("div",{staticClass:"paymentFormItem_1"},[i("div",{staticClass:"paymentFormItem_1_img"},[t.icon_photo1?i("img",{staticStyle:{width:"100%",height:"4rem"},attrs:{src:t.icon_photo1,alt:""}}):i("van-icon",{attrs:{name:"qr"}})],1)]),i("div",{staticClass:"paymentFormItem_2"},[t._v("点击上传付款截图")]),t.uploadMask?i("div",{staticClass:"payment-form-upload-mask"},[i("van-loading",[t._v("上传中...")])],1):t._e()])],1),i("div",{staticClass:"payinfod-sp4",on:{click:t.submitPay}},[t._v(" 我已付款 ")])]),i("van-dialog",{attrs:{title:"备注","show-cancel-button":""},on:{confirm:t.confirmc},model:{value:t.submitPayshow,callback:function(a){t.submitPayshow=a},expression:"submitPayshow"}},[i("van-field",{staticClass:"beizhuv",attrs:{placeholder:"请输入付款人姓名"},model:{value:t.beizhuv,callback:function(a){t.beizhuv=a},expression:"beizhuv"}})],1),i("popup")],1)},o=[],n=(i("99af"),i("0418"),i("fd2d")),e=i("7766"),c=i("2dbd"),r=i("4328"),p=i.n(r),u={data:function(){return{submitPayshow:!1,index:0,true_name:"",payment_img:"",card_id:"",account:"",payment_money:"",icon_photo1:"",icon_photo:"",uploadMask:!1,beizhuv:"",apiUrl:this.$store.state.apiDomain,staticUrl:this.$store.state.staticDomain}},components:{Footer:n["a"],popup:e["a"]},created:function(){this.index=this.$route.query.index,this.type=this.$route.query.type,this.to_user_id=this.$route.query.user_id},mounted:function(){this.firstAPi()},methods:{onClickLeft:function(){this.$router.go(-1)},confirmc:function(){var t=this,a=this.$toast.loading({message:"加载中...",forbidClick:!0});c["a"].post("".concat(this.apiUrl,"/uploadPayInfo"),p.a.stringify({to_user_id:t.to_user_id,prove_img:t.icon_photo,remark:t.beizhuv})).then((function(i){var s=i.data;1===s.status?history.back(0):t.$toast(s.message),a.clear()}))},submitPay:function(){this.icon_photo?this.submitPayshow=!0:this.$toast("请上传付款截图")},firstAPi:function(){var t=this,a=this.$toast.loading({message:"加载中...",forbidClick:!0});c["a"].get("".concat(this.apiUrl,"/payInfo"),{params:{to_user_id:this.$route.query.user_id}}).then((function(i){a.clear();var s=i.data;1===s.status?(t.true_name=s.info.true_name,t.payment_img="".concat(t.staticUrl,"/").concat(s.info.payment_img),t.card_id=s.info.card_id,t.account=s.info.account,t.payment_money=s.info.payment_money):t.$toast(s.message)}))},afterRead:function(t){this.uploadMask=!0,this.uploadFile(t)},uploadFile:function(t){var a=this,i=this,s=new FormData;s.append("img",t.file),c["a"].post("".concat(this.apiUrl,"/uploadImage"),s).then((function(s){var o=s.data;a.uploadMask=!1,1===o.status?(i.icon_photo="".concat(o.info.filename),i.icon_photo1=t.content):i.$toast({forbidClick:!0,message:o.message})}))}}},l=u,d=(i("8ea3"),i("2877")),m=Object(d["a"])(l,s,o,!1,null,null,null);a["default"]=m.exports}}]);